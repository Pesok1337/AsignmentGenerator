<!-- Таблица и кнопки управления -->
<div class="container">
  <div class="table-section">
    <table mat-table [dataSource]="dataSource" class="mat-elevation-z8 full-width">
      <ng-container matColumnDef="startDate">
        <th mat-header-cell *matHeaderCellDef>Дата начала</th>
        <td mat-cell *matCellDef="let element">{{ element.startDate | date:'dd.MM.yyyy HH:mm' }}</td>
      </ng-container>
      <ng-container matColumnDef="frequency">
        <th mat-header-cell *matHeaderCellDef>Периодичность</th>
        <td mat-cell *matCellDef="let element">{{ element.frequency }}</td>
      </ng-container>
      <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
      <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
    </table>

    <!-- Кнопки управления таблицей -->
    <div class="table-buttons">
      <button mat-button (click)="addRow()">Добавить</button>
      <button mat-button (click)="copyRow()">Копировать</button>
      <button mat-button (click)="deleteRow()">Удалить</button>
    </div>
  </div>

  <!-- Форма настройки параметров -->
  <form [formGroup]="frequencyTabForm" class="form-section">
    <!-- Описание -->
    <mat-form-field appearance="fill" class="full-width">
      <mat-label>Описание</mat-label>
      <mat-select formControlName="description">
        <mat-option *ngFor="let desc of descriptions" [value]="desc">{{ desc }}</mat-option>
      </mat-select>
    </mat-form-field>

    <!-- Наименование -->
    <mat-form-field appearance="fill" class="full-width">
      <mat-label>Наименование</mat-label>
      <input matInput formControlName="name" placeholder="Введите наименование">
    </mat-form-field>

    <!-- <input [owlDateTime]="dt2" placeholder="Date Time">
<span [owlDateTimeTrigger]="dt2"><i class="fa fa-calendar"></i></span>
<owl-date-time #dt2></owl-date-time> -->
<!-- <mat-form-field appearance="fill">
  <input matInput [owlDateTime]="datetimePicker" placeholder="Выберите дату и время" [(ngModel)]="selectedDate" [owlDateTimeTrigger]="datetimePicker">
  <owl-date-time #datetimePicker></owl-date-time>
</mat-form-field> -->
<label>
  Date Time:
  <input [owlDateTimeTrigger]="dt" [owlDateTime]="dt">
  <owl-date-time #dt></owl-date-time>
</label>

    <!-- Период повторений -->
    <mat-form-field appearance="fill" class="full-width">
      <mat-label>Период повторений</mat-label>
      <mat-select formControlName="repeatPeriod">
        <mat-option value="none">Без повторений</mat-option>
        <mat-option value="unlimited">Без окончания</mat-option>
        <mat-option value="limited">Закончить после N повторений</mat-option>
      </mat-select>
    </mat-form-field>

    <!-- Шаблон повторений -->
    <div formGroupName="repeatTemplate" class="repeat-template">
      <mat-radio-group formControlName="templateType">
        <mat-radio-button value="hourly">Ежечасно</mat-radio-button>
        <mat-radio-button value="daily">Ежедневно</mat-radio-button>
      </mat-radio-group>

      <!-- Интервал для ежечасного шаблона -->
      <mat-form-field *ngIf="frequencyTabForm.get('repeatTemplate')!.get('templateType')!.value === 'hourly'"
                      appearance="fill" class="full-width">
        <mat-label>Каждый</mat-label>
        <input matInput type="number" formControlName="hourlyInterval" placeholder="Введите интервал в часах">
      </mat-form-field>
    </div>
  </form>
</div>
